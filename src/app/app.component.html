<!--The content below is only a placeholder and can be replaced.-->

  <div class="bbody">
    <h1>tasks</h1>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-10">
          <table class="table">
            <tr class="active">
              <th>id</th>
              <th (click) = 'orderBy();'>
                <a (click)='false'>title</a>
              </th>
              <th>description</th>
              <th>priority</th>
              <th>Created At</th>
              <th>Updated At</th>
              <th></th>
            </tr>
            <tr *ngFor='let todo of todos; let i = index' (click)='editTask(todo);'>
              <td>{{ i + 1 }}</td>
              <td>
                <a *ngIf='!selectedTasks[todo.id]' (click)='false'>{{ todo.title }}</a>
                <div *ngIf='selectedTasks[todo.id]'>
                  <input type="text" [(ngModel)]='selectedTasks[todo.id].title'/>
                </div>
              </td>
              <td>
                <a *ngIf='!selectedTasks[todo.id]' (click)='false'>{{ todo.description }}</a>
                <div *ngIf='selectedTasks[todo.id]'>
                  <input type="text" [(ngModel)]='selectedTasks[todo.id].description'/>
                </div>
              </td>
              <td>
                <a *ngIf='!selectedTasks[todo.id]' (click)='false'>{{ todo.priority }}</a>
                <div *ngIf='selectedTasks[todo.id]'>
                  <input type="number" [(ngModel)]='selectedTasks[todo.id].priority'/>
                </div>
              </td>
              <td>{{ todo.createdAt | date:'medium' }}</td>
              <td>{{ todo.updatedAt | date:'medium' }}</td>
              <td>
                <button *ngIf='!selectedTasks[todo.id]' (click)="deleteTodo(todo.id); $event.stopPropagation();" class="btn btn-danger">
                  <i class="glyphicon glyphicon-trash"></i>
                </button>
                <div *ngIf='selectedTasks[todo.id]'>
                  <button class="btn btn-success" (click)='updateTodo(todo); $event.stopPropagation();'>
                    <i class="glyphicon glyphicon-ok"></i>
                  </button>
                  <button class="btn btn-warning" (click)='selectedTasks[todo.id]=undefined; $event.stopPropagation();'>
                    <i class="glyphicon glyphicon-remove"></i>
                  </button>
                </div>
              </td>
            </tr>
          </table>
        </div>

        <div class="col-md-2">
          <div class="container-form">
            <form (submit)='createTodo();'>
                <label for="title">Title</label>
                <input type="text" [(ngModel)]='todo.title' name='title' id="title">
                <label for="description">Description</label>
                <input type="text" [(ngModel)]='todo.description' name='description' id="description">
                <label for="priority">Priority</label>
                <input type="number" [(ngModel)]='todo.priority' name='priority' id="priority">
              <div class="form-group">
                <button type="submit" class="btn btn-success">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
